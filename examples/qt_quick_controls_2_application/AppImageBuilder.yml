version: 1

script:
  - cmake . -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_BUILD_TYPE=Release
  - DESTDIR=./AppDir make install

AppDir:
  path: ./AppDir
  exec: usr/bin/QtQuickControls2Application

  info:
    id: org.appimagecrafters.QtQuickControls2Application
    name: Qt Quick Controls 2 Application
    icon: QtQuickControls2Application
    version: 1.0.0
  qt:
    qml_source_dirs:
      - ./src

  dpkg:
    include:
      # minimal font stack
      - fontconfig-config
      - ucf
      - fonts-dejavu-core
      - ttf-bitstream-vera
      - fonts-liberation
      # graphic stack dependencies
      - kwin-wayland
      - libqt5gui5
      - qtwayland5

  test:
    debian:
      image: debian:stable
      command: "./AppRun --help"
      use_host_x: True
    centos:
      image: centos:6
      command: "./AppRun --help"
      use_host_x: True
    arch:
      image: archlinux
      command: "./AppRun --help"
      use_host_x: True
    fedora:
      image: fedora:26
      command: "./AppRun --help"
      use_host_x: True
    ubuntu:
      image: ubuntu:xenial
      command: "./AppRun --help"
      use_host_x: True


AppImage:
  update-information: None
  sign-key: None
