version: 1

AppDir:
  path: ./AppDir
  exec: usr/bin/QMLPlayer

  info:
    id: QMLPlayer
    name: QMLPlayer
    icon: QtAV
    version: 1.12.0
  qt:
    qml_source_dirs:
      - /usr/lib/x86_64-linux-gnu/qt5/qml/QtAV
  dpkg:
    include:
      - qtav-players
      - qml-module-qt-labs-folderlistmodel
      - qml-module-qtav
      - qml-module-qtquick-controls
      - qml-module-qtquick-dialogs
      - gtk2-engines-pixbuf
      - gtk2-engines-murrine
      # multimedia stack
      - libpulse0
      - gstreamer1.0-x
      - gstreamer1.0-pulseaudio
      - gstreamer1.0-fluendo-mp3
      - libgstreamer1.0-0
      - gstreamer1.0-plugins-base
      - gstreamer1.0-plugins-good
      # minimal font stack
      - fontconfig-config
      - ucf
      - fonts-dejavu-core
      - ttf-bitstream-vera
      - fonts-liberation
      # graphic stack dependencies
      - kwin-wayland
      - libqt5gui5
      - qtwayland5
      # low level graphic stack dependencies
      - libxshmfence1
      - libxcb-present0
      - libxcb-dri3-0
      - libxxf86vm1
      - libxdamage1
      - libxcb-dri2-0
      - libglapi-mesa
      - libglx-mesa0
      - libpciaccess0
      - libxv1
      - libdrm-nouveau2
      - libdrm-radeon1
      - libdrm-intel1
      - libgl1-mesa-dri

  test:
    debian:
      image: debian:stable
      command: "./AppRun --help"
      use_host_x: True
    centos:
      image: centos:6
      command: "./AppRun --help"
      use_host_x: True
      env:
        - QT_QPA_PLATFORM=minimal
    arch:
      image: archlinux
      command: "./AppRun --help"
      use_host_x: True
    fedora:
      image: fedora:26
      command: "./AppRun --help"
      use_host_x: True
    ubuntu:
      image: ubuntu:xenial
      command: "./AppRun --help"
      use_host_x: True


AppImage:
  update-information: None
  sign-key: None
